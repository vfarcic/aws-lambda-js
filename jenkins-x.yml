buildPack: go
pipelineConfig:
  env:
  - name: AWS_ACCESS_KEY_ID
    valueFrom:
      secretKeyRef:
        key: aws-lambda
        name: access-key-id
  - name: AWS_SECRET_ACCESS_KEY
    valueFrom:
      secretKeyRef:
        key: aws-lambda
        name: secret-access-key
  pipelines:
    overrides:
    - pipeline: release
      stage: setup
      steps:
      - name: clone
        groovy: git "https://github.com/vfarcic/aws-lambda-js.git"
      - name: checkout-scm
        groovy: checkout scm
    - pipeline: release
      stage: build
      steps:
      - name: something 1
        sh: echo $AWS_ACCESS_KEY_ID
      - name: something 1
        sh: echo $AWS_SECRET_ACCESS_KEY